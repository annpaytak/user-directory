// todo move logic to hook